<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>14 Days of Love</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Entrance Overlay -->
    <div id="entranceOverlay" class="entrance-overlay">
        <div class="entrance-content">
            <h2>Will You Be My Valentine?</h2>
            <p>A Journey to Valentine's Day</p>
            <div class="valentine-buttons">
                <button id="yesButton" class="yes-button">Yes â™¥</button>
                <button id="noButton" class="no-button">No</button>
            </div>
        </div>
    </div>
    
    <div class="container">
        <header>
            <h1>14 Days of Love</h1>
            <p class="subtitle">A Journey to Valentine's Day</p>
        </header>
        
        <div class="calendar-grid" id="calendarGrid">
            <!-- Calendar will be generated by JavaScript -->
        </div>
        
        <div class="heart-decoration">
            <svg width="50" height="50" viewBox="0 0 24 24" fill="#DC3C22">
                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
            </svg>
        </div>
    </div>
    
    <audio id="bgMusic" loop playsinline webkit-playsinline preload="auto">
        <source src="songs/landing.mp3" type="audio/mpeg">
    </audio>
    
    <script src="js/calendar.js"></script>
    
    <script>
        // Entrance overlay and music handling
        window.addEventListener('DOMContentLoaded', () => {
            const audio = document.getElementById('bgMusic');
            const overlay = document.getElementById('entranceOverlay');
            const enterButton = document.getElementById('enterButton');
            
            audio.volume = 0.3;
            
            // Check if user has already entered
            if (sessionStorage.getItem('valentine_entered') === 'true') {
                // Skip entrance overlay and go straight to calendar
                overlay.style.display = 'none';
                // Try to resume music
                audio.play().catch(() => {
                    // If autoplay fails, play on first interaction
                    document.body.addEventListener('click', () => {
                        audio.play();
                    }, { once: true });
                });
            }
            
            const yesButton = document.getElementById('yesButton');
            const noButton = document.getElementById('noButton');
            
            yesButton.addEventListener('click', () => {
                // Mark as entered
                sessionStorage.setItem('valentine_entered', 'true');
                
                // Start music
                audio.play();
                
                // Fade out and remove overlay
                overlay.style.opacity = '0';
                setTimeout(() => {
                    overlay.style.display = 'none';
                }, 500);
            });
            
            noButton.addEventListener('click', () => {
                // Shake the no button
                noButton.classList.add('shake');
                setTimeout(() => {
                    noButton.classList.remove('shake');
                }, 500);
            });
        });
    </script>
</body>
</html>
