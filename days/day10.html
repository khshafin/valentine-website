<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 10 - February 10</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="day-page">
        <div class="day-content">
            <div class="day-header">
                <h2>Day 10</h2>
                <p class="subtitle">February 10, 2026</p>
            </div>
            
            <div class="image-container">
                <img src="../images/day10.jpg" alt="Day 10 Memory" onerror="this.src='https://via.placeholder.com/800x500/3D74B6/FBF5DE?text=Add+Your+Photo+Here'">
            </div>
            
            <div class="shayari">
                Tumhare bina sehra sa viraan lagta hai,<br>
                Tumhare saath jannat-e-haseen mehsoos hoti hai,<br>
                Tumhari mohabbat mein jo sukoon-e-azeem hai,<br>
                Woh kahin aur se kabhi nasib nahi hoti haià¥¤
            </div>
            
<div class="egg-letter-day">,</div>
                <a href="future-sentence.html?day=10" class="special-button">One Sentence For The Future Us</a>
                <a href="../index.html" class="back-button">Back to Calendar</a>
        </div>
    </div>
    
    <audio id="bgMusic" loop playsinline webkit-playsinline preload="auto">
        <source src="../songs/day10.mp3" type="audio/mpeg">
    </audio>
    
    <script>
        const MUSIC_KEY = 'valentine_music_state';
        
        window.addEventListener('DOMContentLoaded', () => {
            const audio = document.getElementById('bgMusic');
            audio.volume = 0.3;
            
            const savedState = sessionStorage.getItem(MUSIC_KEY);
            if (savedState) {
                const state = JSON.parse(savedState);
                audio.currentTime = state.time || 0;
            }
            
            const playPromise = audio.play();
            
            if (playPromise !== undefined) {
                playPromise.catch(() => {
                    const tapOverlay = document.createElement('div');
                    tapOverlay.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;z-index:10000;cursor:pointer;';
                    tapOverlay.addEventListener('click', () => {
                        audio.play();
                        tapOverlay.remove();
                    }, { once: true });
                    document.body.appendChild(tapOverlay);
                });
            }
        });
        
        window.addEventListener('beforeunload', () => {
            const audio = document.getElementById('bgMusic');
            if (audio && !audio.paused) {
                sessionStorage.setItem(MUSIC_KEY, JSON.stringify({time: audio.currentTime, playing: true}));
            }
        });
        
        document.addEventListener('click', (e) => {
            const link = e.target.tagName === 'A' ? e.target : e.target.closest('a');
            if (link) {
                const href = link.getAttribute('href');
                if (href && href.includes('index.html')) {
                    sessionStorage.removeItem(MUSIC_KEY);
                } else {
                    const audio = document.getElementById('bgMusic');
                    if (audio && !audio.paused) {
                        sessionStorage.setItem(MUSIC_KEY, JSON.stringify({time: audio.currentTime, playing: true}));
                    }
                }
            }
        });
    </script>
    <script src="../js/egg-visibility.js"></script>
    <script src="../js/day-guard.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function(){
            revealEggIfUnlocked(10, '.egg-letter-day');
            ensureDayUnlocked(10);
        });
    </script>
</body>
</html>
